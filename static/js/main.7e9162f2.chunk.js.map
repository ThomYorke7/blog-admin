{"version":3,"sources":["components/login.jsx","components/posts/postcard.jsx","components/navbar.jsx","components/posts/postlist.jsx","services/authHeader.js","components/posts/deletepost.jsx","components/posts/comment.jsx","components/posts/postpage.jsx","components/posts/createpost.jsx","components/posts/editpost.jsx","App.js","index.js"],"names":["Login","useState","username","setUsername","password","setPassword","error","setError","history","useHistory","handleSubmit","e","a","preventDefault","fetch","method","headers","mode","body","JSON","stringify","request","json","currentUser","token","localStorage","setItem","push","window","location","reload","className","onSubmit","htmlFor","type","id","required","onChange","target","value","message","PostCard","title","text","timestamp","lastUpdate","slug","classname","source","to","Navbar","props","data-toggle","data-target","aria-controls","aria-expanded","aria-label","onClick","handleLogout","placeholder","PostList","posts","setPosts","loading","setLoading","entities","Html5Entities","parse","getItem","setCurrentUser","useEffect","axios","get","then","res","data","catch","err","console","log","Fragment","removeItem","role","map","post","decode","comments","key","_id","authHeader","user","DeletePost","setDeleteModal","delete","Authorization","response","status","handleDelete","Comment","postId","aria-hidden","PostPage","setPost","decodedTitle","setDecodedTitle","decodedText","setDecodedText","setComments","deleteModal","match","params","length","comment","CreatePost","setTitle","setText","errors","setErrors","msg","name","href","rel","EditPost","patch","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e9162f2.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const history = useHistory();\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // fetch url da modificare prima del push su Heroku\n    const request = await fetch(\n      'https://denim-mighty-script.glitch.me/api/admin/login',\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        mode: 'cors',\n        body: JSON.stringify({ username, password }),\n      }\n    );\n    const currentUser = await request.json();\n    if (currentUser.token) {\n      localStorage.setItem('currentUser', JSON.stringify(currentUser));\n      history.push('/');\n      window.location.reload();\n      return;\n    }\n    setError(currentUser);\n    setPassword('');\n  };\n\n  return (\n    <div className='row mt-5'>\n      <div className='col-md-4 m-auto'>\n        <div className='card card-body'>\n          <form onSubmit={(e) => handleSubmit(e)}>\n            <div className='form-group'>\n              <label htmlFor='username'>Username</label>\n              <input\n                type='text'\n                className='form-control'\n                id='username'\n                required\n                onChange={(e) => setUsername(e.target.value)}\n              />\n            </div>\n            <div className='form-group'>\n              <label htmlFor='password'>Password</label>\n              <input\n                type='password'\n                className='form-control'\n                id='password'\n                required\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n            <button type='submit' className='btn btn-primary'>\n              Submit\n            </button>\n            {error !== '' && (\n              <p className='alert alert-warning mb-0 mt-4'>{error.message}</p>\n            )}\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactMarkdown from 'react-markdown';\n\nconst PostCard = ({ title, text, timestamp, lastUpdate, id, slug }) => {\n  return (\n    <div className='card mb-3 postcard'>\n      <div className='row no-gutters'>\n        <div className='card-body'>\n          <ReactMarkdown className='card-title'>{title}</ReactMarkdown>\n          <ReactMarkdown classname='card-text' source={text}></ReactMarkdown>\n          <div className='card-footer'>\n            <small className='text-muted'>Created: {timestamp}</small>\n            {lastUpdate && (\n              <small className='text-muted'>\n                {' '}\n                | Last Updated: {lastUpdate}\n              </small>\n            )}\n          </div>\n          <div className='d-flex justify-content-end mt-3'>\n            <Link to={'/api/posts/' + slug} className='btn btn-primary'>\n              Read Post\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostCard;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Navbar = (props) => {\n  return (\n    <nav className='navbar navbar-expand-lg navbar-dark bg-primary'>\n      <Link to='/' className='navbar-brand py-1'>\n        My Journal\n      </Link>\n      <button\n        className='navbar-toggler'\n        type='button'\n        data-toggle='collapse'\n        data-target='#navbarColor01'\n        aria-controls='navbarColor01'\n        aria-expanded='false'\n        aria-label='Toggle navigation'\n      >\n        <span className='navbar-toggler-icon'></span>\n      </button>\n\n      <div className='collapse navbar-collapse' id='navbarColor01'>\n        <ul className='navbar-nav mr-auto'>\n          <li className='nav-item'>\n            <Link to='/' className='nav-link'>\n              Home\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <Link className='nav-link' to='/create'>\n              Create\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <Link className='nav-link' to='/login' onClick={props.handleLogout}>\n              Logout\n            </Link>\n          </li>\n        </ul>\n        <form className='form-inline my-2 my-lg-0'>\n          <input\n            className='form-control mr-sm-2'\n            type='text'\n            placeholder='Search'\n          />\n          <button className='btn btn-secondary my-2 my-sm-0' type='submit'>\n            Search\n          </button>\n        </form>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React, { useState, useEffect } from 'react';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport PostCard from './postcard';\nimport Navbar from '../navbar';\nimport { Html5Entities } from 'html-entities';\n\nconst PostList = () => {\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const entities = new Html5Entities();\n\n  const [currentUser, setCurrentUser] = useState(\n    JSON.parse(localStorage.getItem('currentUser'))\n  );\n\n  const history = useHistory();\n\n  const handleLogout = () => {\n    setCurrentUser('');\n    localStorage.removeItem('currentUser');\n    history.push('/login');\n  };\n\n  useEffect(() => {\n    axios\n      .get('https://denim-mighty-script.glitch.me/api/posts/')\n      .then((res) => {\n        setPosts(res.data);\n        setLoading(false);\n      })\n      .catch((err) => console.log({ message: err.message }));\n  }, []);\n\n  return (\n    <React.Fragment>\n      {currentUser ? (\n        <div>\n          <Navbar handleLogout={handleLogout}></Navbar>\n          {loading && (\n            <div className='text-center'>\n              <div className='spinner-border text-dark m-5' role='status'>\n                <span className='sr-only'>Loading...</span>\n              </div>\n            </div>\n          )}\n          <div className='container-fluid'>\n            <div className='card-deck mt-4'>\n              {posts.map((post) => (\n                <PostCard\n                  title={entities.decode(post.title)}\n                  text={entities.decode(post.text)}\n                  timestamp={post.timestamp}\n                  lastUpdate={post.lastUpdate}\n                  comments={post.comments}\n                  key={post._id}\n                  id={post._id}\n                  slug={post.slug}\n                ></PostCard>\n              ))}\n            </div>\n          </div>\n        </div>\n      ) : (\n        <Redirect to='/login'></Redirect>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default PostList;\n","export default function authHeader() {\n  const user = JSON.parse(localStorage.getItem('currentUser'));\n  if (user && user.token) {\n    return `Bearer ${user.token}`;\n  } else {\n    return {};\n  }\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport authHeader from '../../services/authHeader';\n\nconst DeletePost = ({ post, setDeleteModal }) => {\n  const history = useHistory();\n  const handleDelete = (e) => {\n    e.preventDefault();\n    axios\n      .delete(`https://denim-mighty-script.glitch.me/api/posts/` + post._id, {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: authHeader(),\n        },\n        mode: 'cors',\n      })\n      .then((response) => {\n        history.push('/');\n        window.location.reload();\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          history.push('/login');\n        }\n      });\n  };\n\n  return (\n    <form className='mt-3' onSubmit={(e) => handleDelete(e)}>\n      <p className='alert alert-danger'>\n        This will delete the post. Are you sure?\n      </p>\n      <button\n        className='btn btn-secondary mr-2'\n        onClick={() => setDeleteModal(false)}\n      >\n        Close\n      </button>\n      <button className='btn btn-primary' type='submit'>\n        Confirm\n      </button>\n    </form>\n  );\n};\n\nexport default DeletePost;\n","import React from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { Html5Entities } from 'html-entities';\nimport authHeader from '../../services/authHeader';\n\nconst Comment = ({ username, text, timestamp, id, postId }) => {\n  const entities = new Html5Entities();\n  const history = useHistory();\n  const handleClick = () => {\n    axios\n      .delete(\n        `https://denim-mighty-script.glitch.me/api/posts/${postId}/comments/${id}`,\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: authHeader(),\n          },\n          mode: 'cors',\n        }\n      )\n      .then((res) => {\n        window.location.reload();\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          history.push('/login');\n        }\n      });\n  };\n\n  return (\n    <div className='card my-3 border-0'>\n      <div className='row no-gutters border-bottom'>\n        <div className='card-body p-0'>\n          <button\n            type='button'\n            onClick={handleClick}\n            className='close'\n            aria-label='Close'\n          >\n            <span aria-hidden='true'>&times;</span>\n          </button>\n          <h5 className='card-title m-0'>{username}</h5>\n          <p className='card-text m-0'>\n            <small className='text-muted'>Posted on {timestamp}</small>\n          </p>\n          <p className='card-text my-2'>{entities.decode(text)}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Comment;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Navbar from '../navbar';\nimport DeletePost from './deletepost';\nimport Comment from './comment';\nimport ReactMarkdown from 'react-markdown';\n\nconst PostPage = (props) => {\n  const [post, setPost] = useState([]);\n  const [decodedTitle, setDecodedTitle] = useState('');\n  const [decodedText, setDecodedText] = useState('');\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [deleteModal, setDeleteModal] = useState(false);\n\n  useEffect(() => {\n    axios\n      .get(\n        'https://denim-mighty-script.glitch.me/api/posts/' +\n          props.match.params.slug\n      )\n      .then((res) => {\n        setPost(res.data.post);\n        setDecodedTitle(res.data.decodedTitle);\n        setDecodedText(res.data.decodedText);\n        setLoading(false);\n\n        axios\n          .get(\n            `https://denim-mighty-script.glitch.me/api/posts/${res.data.post._id}/comments`\n          )\n          .then((res) => {\n            setComments(res.data);\n          })\n          .catch((err) => console.log(err));\n      })\n      .catch((err) => console.log({ message: err.message }));\n  }, [post._id, props.match.params.id, props.match.params.slug]);\n\n  return (\n    <React.Fragment>\n      <Navbar></Navbar>\n      {loading && (\n        <div className='text-center'>\n          <div className='spinner-border text-dark m-5' role='status'>\n            <span className='sr-only'>Loading...</span>\n          </div>\n        </div>\n      )}\n      {loading === false && (\n        <div className='card border-0'>\n          <div className='row no-gutters mt-4 justify-content-center'>\n            <div className='col-lg-6'>\n              <div className='card-body p-0'>\n                <ReactMarkdown className='card-title'>\n                  {decodedTitle}\n                </ReactMarkdown>\n                <ReactMarkdown\n                  className='card-text'\n                  source={decodedText}\n                ></ReactMarkdown>\n              </div>\n              <div className='card-body p-0 mb-3'>\n                <Link\n                  to={'/api/posts/edit/' + post.slug}\n                  className='btn btn-info mr-2'\n                >\n                  Edit\n                </Link>\n                <button\n                  className='btn btn-danger'\n                  onClick={() => setDeleteModal(true)}\n                >\n                  Delete\n                </button>\n                {deleteModal && (\n                  <DeletePost\n                    post={post}\n                    setDeleteModal={setDeleteModal}\n                  ></DeletePost>\n                )}\n              </div>\n              <h4>COMMENTS</h4>\n              {comments.length > 0 ? (\n                comments.map((comment) => (\n                  <Comment\n                    username={comment.username}\n                    text={comment.text}\n                    timestamp={comment.timestamp}\n                    key={comment._id}\n                    id={comment._id}\n                    postId={post._id}\n                  ></Comment>\n                ))\n              ) : (\n                <p>There are no comments here.</p>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default PostPage;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Navbar from '../navbar';\nimport authHeader from '../../services/authHeader';\nimport axios from 'axios';\n\nconst CreatePost = () => {\n  const [title, setTitle] = useState('');\n  const [text, setText] = useState('');\n  const [errors, setErrors] = useState([]);\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault(e);\n    const post = { title, text };\n    axios\n      .post('https://denim-mighty-script.glitch.me/api/posts/create', post, {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: authHeader(),\n        },\n        mode: 'cors',\n      })\n      .then((res) => {\n        if (res.status === 400) {\n          setErrors(res);\n          return;\n        } else {\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          history.push('/login');\n        }\n      });\n  };\n\n  return (\n    <div>\n      <Navbar></Navbar>\n      <div className='container mt-5'>\n        {errors.length > 0\n          ? errors.map((error) => (\n              <p className='alert alert-warning mb-0 mt-4' key={error.msg}>\n                {error.msg}\n              </p>\n            ))\n          : ''}\n        <form onSubmit={(e) => handleSubmit(e)}>\n          <div className='form-group'>\n            <label htmlFor='title'>Title</label>\n            <input\n              className='form-control'\n              type='text'\n              name='title'\n              id='title'\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n            />\n          </div>\n          <div className='form-group'>\n            <label htmlFor='text'>Content</label>\n            <small className='form-text text-muted mt-0'>\n              You can use{' '}\n              <a\n                href='https://www.markdownguide.org/cheat-sheet/'\n                target='_blank'\n                rel='noopener noreferrer'\n              >\n                Markdown\n              </a>\n              .\n            </small>\n            <textarea\n              name='text'\n              className='form-control'\n              id='text'\n              value={text}\n              onChange={(e) => setText(e.target.value)}\n            ></textarea>\n          </div>\n          {/* <Editor\n            apiKey={tinymceApi}\n            initialValue={text}\n            init={{\n              height: 500,\n              menubar: false,\n              plugins: [\n                'advlist autolink lists link image charmap print preview anchor',\n                'searchreplace visualblocks code fullscreen',\n                'insertdatetime media table paste code help wordcount',\n              ],\n              toolbar:\n                'undo redo | formatselect | bold italic backcolor | \\\n             alignleft aligncenter alignright alignjustify | \\\n             bullist numlist outdent indent | removeformat | help',\n            }}\n            onEditorChange={handleEditorChange}\n          /> */}\n          <button className='btn btn-primary mt-3'>Create Post</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default CreatePost;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Navbar from '../navbar';\nimport authHeader from '../../services/authHeader';\nimport axios from 'axios';\n\nconst EditPost = (props) => {\n  const [title, setTitle] = useState('');\n  const [text, setText] = useState('');\n  const [errors, setErrors] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const history = useHistory();\n\n  useEffect(() => {\n    axios\n      .get(\n        'https://denim-mighty-script.glitch.me/api/posts/' +\n          props.match.params.slug\n      )\n      .then((res) => {\n        setTitle(res.data.decodedTitle);\n        setText(res.data.decodedText);\n        setLoading(false);\n      })\n      .catch((err) => console.log({ message: err.message }));\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleSubmit = (e) => {\n    e.preventDefault(e);\n    const post = { title, text };\n    axios\n      .patch(\n        'https://denim-mighty-script.glitch.me/api/posts/edit/' +\n          props.match.params.slug,\n        post,\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: authHeader(),\n          },\n          mode: 'cors',\n        }\n      )\n      .then((res) => {\n        if (res.status === 400) {\n          setErrors(res);\n          return;\n        } else {\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          history.push('/login');\n        }\n      });\n  };\n\n  return (\n    <div>\n      <Navbar></Navbar>\n      {loading && (\n        <div className='text-center'>\n          <div className='spinner-border text-dark m-5' role='status'>\n            <span className='sr-only'>Loading...</span>\n          </div>\n        </div>\n      )}\n      {loading === false && (\n        <div className='container mt-5'>\n          {errors.length > 0\n            ? errors.map((error) => (\n                <p className='alert alert-warning mb-0 mt-4' key={error.msg}>\n                  {error.msg}\n                </p>\n              ))\n            : ''}\n          <form onSubmit={(e) => handleSubmit(e)}>\n            <div className='form-group'>\n              <label htmlFor='title'>Title</label>\n              <input\n                className='form-control'\n                type='text'\n                name='title'\n                id='title'\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n            </div>\n            <div className='form-group'>\n              <label htmlFor='text'>Content</label>\n              <textarea\n                name='text'\n                className='form-control'\n                id='text'\n                value={text}\n                onChange={(e) => setText(e.target.value)}\n              ></textarea>\n            </div>\n            <button className='btn btn-primary mt-3'>Save Changes</button>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EditPost;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Login from './components/login';\nimport PostList from './components/posts/postlist';\nimport PostPage from './components/posts/postpage';\nimport CreatePost from './components/posts/createpost';\nimport EditPost from './components/posts/editpost';\nimport './bootstrap.min.css';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path='/login' component={Login}></Route>\n        <Route path='/' exact component={PostList}></Route>\n        <Route path='/create' component={CreatePost}></Route>\n        <Route path='/api/posts/:slug' exact component={PostPage}></Route>\n        <Route path='/api/posts/edit/:slug' exact component={EditPost}></Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}